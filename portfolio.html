<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portofolio | SR Creation</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script>
    tailwind.config = {
      darkMode: 'class',
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/line-clamp@0.4.2"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Space+Mono&display=swap');
    body {
      font-family: 'Space Mono', monospace;
      transition: background-color 0.3s, color 0.3s;
    }
    .dark body{
      background-color: #0f172a;
      color: white;
    }

    body {
      background-color: white;
      color: #1e293b;
    }
    @media screen {
      .scroll-top-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #06b6d4;
      color: white;
      padding: 0.5rem 0.75rem;
      border-radius: 9999px;
      cursor: pointer;
      display: none;
      z-index: 50;
      }
    }
    .scroll-top-btn.show {
      display: flex !important;
      align-items: center;
      justify-content: center;
    }
    #mobileMenu {
      transition: transform 0.3s ease-in-out;
      z-index: 60;
    }
    .download-btn {
      transition: transform 0.2s;
    }
    .download-btn:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body class="flex flex-col min-h-screen bg-white text-slate-900 dark:bg-slate-900 dark:text-white transition-colors">
  <header class="bg-black text-white px-6 py-4 shadow-md sticky top-0 z-40">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-4">
        <button id="menuToggle" class="md:hidden text-xl"><i class="fas fa-bars"></i></button>
        <nav class="hidden md:flex space-x-6 items-center">
          <a href="portfolio.html" class="hover:font-bold hover:text-cyan-400 transition">Beranda</a>
        </nav> 
      </div>
      <div class="flex items-center space-x-3">
        <i class="fas fa-user-circle text-xl"></i>
        <span class="text-sm font-semibold">Septianda Reza Maulana</span>
        <button id="themeToggle" class="hidden md:block text-xl ml-4"><i class="fas fa-moon"></i></button>
      </div>
    </div>
  </header>

  <div id="mobileMenu" class="fixed top-0 left-0 w-1/2 h-full bg-white dark:bg-slate-800 text-slate-900 dark:text-white p-6 transform -translate-x-full md:hidden flex flex-col">
    <div class="flex justify-between items-center mb-4">
      <span class="font-bold text-lg">Menu</span>
      <button id="menuClose" class="text-xl"><i class="fas fa-times"></i></button>
    </div>
    <nav class="flex flex-col space-y-4">
      <a href="portfolio.html" class="hover:font-bold hover:text-cyan-400 transition">Beranda</a>
    </nav>
    <div class="mt-auto pt-6">
      <button id="mobileThemeToggle" class="text-xl"><i class="fas fa-moon"></i></button>
    </div>
  </div>

   <div class="w-full px-4 flex-grow">
    <div class="max-w-7xl mx-auto">
      <div class="mt-6 mb-4 flex justify-end px-2">
        <input type="text" id="searchInput" placeholder="Cari ..." class="px-3 py-1 w-60 text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-800 text-black dark:text-white" />
      </div>
      <main class="mb-10 flex-grow px-2">
        <h2 class="text-2xl font-bold mb-4">Ebook</h2>
        <div id="ebookContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="ebook-card bg-white dark:bg-slate-800 rounded-lg shadow-md p-4 flex flex-col justify-between h-full" data-title="Judul Ebook A">
            <img src="img/sukses.png" alt="Cover Ebook" class="rounded mb-4 w-full h-48 object-cover">
            <h3 class="text-base font-semibold mb-2 line-clamp-3 leading-snug md:text-lg">KESUKSESAN DAPAT KITA RAIH DENGAN JALUR LANGIT DAN KONSEP YANG TERSTRUKTUR</h3>
            <p class="text-sm mb-4">Deskripsi singkat ebook A.</p>
            <div class="timer text-sm text-center text-cyan-500 mb-2"></div>
            <a class="download-btn bg-cyan-500 text-white py-2 px-4 rounded text-center font-medium pointer-events-none opacity-50 transition-all">Dapatkan Sekarang</a>
          </div>
        </div>
      </main>
    </div>
  </div>

  <footer class="bg-black text-white py-6 px-4 text-sm font-light">
    <div class="flex flex-wrap justify-center gap-4 mb-2">
      <a href="https://www.instagram.com/septian.reza06/" class="text-white"><i class="fab fa-instagram"></i></a>
      <a href="https://www.linkedin.com/in/septianda-reza/" class="text-white"><i class="fab fa-linkedin"></i></a>
      <a href="https://www.tiktok.com/in/@sasisuza" class="text-white"><i class="fab fa-tiktok"></i></a>
    </div>
    <p class="text-center w-full">&copy; <span id="year"></span> SR Creation. All rights reserved.</p>
  </footer>

  <div id="scrollTopBtn" class="scroll-top-btn">
    <i class="fas fa-arrow-up"></i>
  </div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const html = document.documentElement;
    const toggleBtn = document.getElementById("themeToggle");
    const icon = toggleBtn?.querySelector("i");
    const mobileToggleBtn = document.getElementById("mobileThemeToggle");
    const mobileIcon = mobileToggleBtn?.querySelector("i");

    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      html.classList.add("dark");
      icon?.classList.replace("fa-moon", "fa-sun");
      mobileIcon?.classList.replace("fa-moon", "fa-sun");
    }

    toggleBtn?.addEventListener("click", () => {
      html.classList.toggle("dark");
       if (icon.classList.contains("fa-moon")) {
        icon.classList.replace("fa-moon", "fa-sun");
      } else {
        icon.classList.replace("fa-sun", "fa-moon");
      }
    });

    mobileToggleBtn?.addEventListener("click", () => {
      html.classList.toggle("dark");
      if (mobileIcon.classList.contains("fa-moon")) {
        mobileIcon.classList.replace("fa-moon", "fa-sun");
      } else {
        mobileIcon.classList.replace("fa-sun", "fa-moon");
      }
    });

    const menuToggle = document.getElementById("menuToggle");
    const menuClose = document.getElementById("menuClose");
    const mobileMenu = document.getElementById("mobileMenu");

    menuToggle.addEventListener("click", () => {
      mobileMenu.classList.remove("-translate-x-full");
    });
    menuClose.addEventListener("click", () => {
      mobileMenu.classList.add("-translate-x-full");
    });

    const cards = document.querySelectorAll(".ebook-card");
    const launchDates = [
      new Date("2025-06-06T15:00:00"),
    ];
    const downloadLinks = [
      "https://linka.com",
    ];

    cards.forEach((card, index) => {
      const timerEl = card.querySelector(".timer");
      const btn = card.querySelector(".download-btn");
      let linkSet = false;

      const update = () => {
        const now = new Date();
        const diff = launchDates[index] - now;

        if (diff <= 0 && !linkSet) {
          timerEl.textContent = "";
          btn.classList.remove("pointer-events-none", "opacity-50");
          btn.setAttribute("href", downloadLinks[index]);
          btn.setAttribute("target", "_blank"); // opsional: buka di tab baru
          btn.textContent = "Dapatkan Sekarang";
          linkSet = true;
        } else if (diff > 0) {
          const days = Math.floor(diff / (1000 * 60 * 60 * 24));
          const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((diff % (1000 * 60)) / 1000);
          timerEl.textContent = `Rilis dalam ${days}d ${hours}j ${minutes}m ${seconds}d`;
          btn.textContent = "Segera Hadir";
        }
      };
      update();
      setInterval(update, 1000);
    });

    const searchInput = document.getElementById("searchInput");
    searchInput.addEventListener("input", () => {
      const filter = searchInput.value.toLowerCase();
      document.querySelectorAll(".ebook-card").forEach(card => {
        const textContent = card.textContent.toLowerCase();
        card.style.display = textContent.includes(filter) ? "block" : "none";
      });
      // Cek ulang visibilitas tombol scroll
      handleScrollTopVisibility();
    });

    const scrollTopBtn = document.getElementById("scrollTopBtn");

    const handleScrollTopVisibility = () => {
      if (window.scrollY > 300) {
        scrollTopBtn.classList.add("show");
      } else {
        scrollTopBtn.classList.remove("show");
      }
    };
    window.addEventListener("scroll", handleScrollTopVisibility);
    
    scrollTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
</body>
</html>
